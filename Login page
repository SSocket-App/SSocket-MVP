// App.js — SSocket Login Screen (no nav, form at top)

import React, { useState } from "react";
import {
  SafeAreaView,
  StatusBar,
  View,
  Text,
  TextInput,
  TouchableOpacity,
  KeyboardAvoidingView,
  Platform,
  StyleSheet,
} from "react-native";
import { Ionicons } from "@expo/vector-icons";

const YELLOW = "#FFD54A";
const BLACK = "#000";
const WHITE = "#FFF";

export default function App() {
  const [email, setEmail] = useState("");
  const [password, setPassword] = useState("");
  const [showPass, setShowPass] = useState(false);

  return (
    <SafeAreaView style={styles.container}>
      <StatusBar barStyle="light-content" backgroundColor={BLACK} />

      {/* Header */}
      <View style={styles.topBar}>
        <Text style={styles.topBarTitle}>SSocket</Text>
      </View>
      <View style={styles.topAccent} />

      {/* Form directly under top bar */}
      <KeyboardAvoidingView
        style={{ flex: 1 }}
        behavior={Platform.OS === "ios" ? "padding" : undefined}
      >
        <View style={styles.formCard}>
          {/* Email */}
          <Text style={styles.label}>Email</Text>
          <TextInput
            style={styles.input}
            placeholder="you@example.com"
            placeholderTextColor="#888"
            value={email}
            onChangeText={setEmail}
            keyboardType="email-address"
            autoCapitalize="none"
          />

          {/* Password with eye toggle */}
          <Text style={styles.label}>Password</Text>
          <View style={styles.passwordWrap}>
            <TextInput
              style={[styles.input, { paddingRight: 44 }]}
              placeholder="••••••••"
              placeholderTextColor="#888"
              secureTextEntry={!showPass}
              value={password}
              onChangeText={setPassword}
              autoCapitalize="none"
            />
            <TouchableOpacity
              onPress={() => setShowPass((s) => !s)}
              style={styles.eyeBtn}
              hitSlop={{ top: 10, bottom: 10, left: 10, right: 10 }}
            >
              <Ionicons
                name={showPass ? "eye-off-outline" : "eye-outline"}
                size={22}
                color={BLACK}
              />
            </TouchableOpacity>
          </View>

          {/* Actions */}
          <TouchableOpacity style={styles.primaryBtn}>
            <Text style={styles.primaryBtnText}>Log in</Text>
          </TouchableOpacity>

          <View style={styles.linksRow}>
            <TouchableOpacity>
              <Text style={styles.link}>Forgot password?</Text>
            </TouchableOpacity>
            <TouchableOpacity>
              <Text style={styles.link}>Create account</Text>
            </TouchableOpacity>
          </View>
        </View>
      </KeyboardAvoidingView>
    </SafeAreaView>
  );
}

/* -------------------- Styles -------------------- */
const styles = StyleSheet.create({
  container: { flex: 1, backgroundColor: WHITE },

  topBar: {
    backgroundColor: BLACK,
    height: 88,
    paddingTop: Platform.OS === "android" ? (StatusBar.currentHeight || 0) : 12,
    alignItems: "center",
    justifyContent: "flex-end",
    paddingBottom: 14,
  },
  topBarTitle: { color: WHITE, fontSize: 26, fontWeight: "900" },
  topAccent: { height: 3, backgroundColor: YELLOW },

  formCard: {
    paddingHorizontal: 18,
    paddingTop: 12,
    backgroundColor: WHITE,
  },

  label: {
    fontSize: 14,
    fontWeight: "700",
    color: BLACK,
    marginBottom: 6,
    marginTop: 12,
  },

  input: {
    borderWidth: 2,
    borderColor: BLACK,
    borderRadius: 10,
    paddingHorizontal: 14,
    paddingVertical: 12,
    fontSize: 16,
    color: BLACK,
    backgroundColor: WHITE,
  },

  passwordWrap: { position: "relative" },
  eyeBtn: { position: "absolute", right: 12, top: 14 },

  primaryBtn: {
    marginTop: 18,
    backgroundColor: BLACK,
    paddingVertical: 14,
    borderRadius: 10,
    alignItems: "center",
    justifyContent: "center",
  },
  primaryBtnText: {
    color: YELLOW,
    fontSize: 18,
    fontWeight: "900",
    letterSpacing: 0.3,
  },

  linksRow: {
    marginTop: 14,
    flexDirection: "row",
    justifyContent: "space-between",
  },
  link: { color: BLACK, fontSize: 14, fontWeight: "700" },
});
